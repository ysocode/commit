#!/usr/bin/env php
<?php

/**
 * YSOCode Commit CLI
 *
 * A tool to generate conventional commits using AI based on Git staged changes.
 * This CLI analyzes your staged changes and uses artificial intelligence to
 * suggest meaningful commit messages following the Conventional Commits specification.
 *
 * @author Yuri Oliveira <yuri.oliveira@ysocode.com>
 * @license MIT
 * @link https://github.com/ysocode/commit
 * @copyright 2025 YSOCode
 */

$globalInstallPath = __DIR__.'/../../../autoload.php';
$localInstallPath = __DIR__.'/../vendor/autoload.php';

require_once file_exists($globalInstallPath) ? $globalInstallPath : $localInstallPath;

$localConfiguration = new \YSOCode\Commit\Foundation\Support\LocalConfiguration(
    new \YSOCode\Commit\Foundation\Support\Configuration(
        __DIR__.'/../config'
    )
);

$app = new Symfony\Component\Console\Application('YSO Code', '3.0.0');
$app->add(new \YSOCode\Commit\Application\Console\GenerateConventionalCommitMessage($localConfiguration));

$app->run();
